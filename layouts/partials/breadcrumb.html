{{ $path := split .URL "/" }}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/">{{ .Site.Title }}</a></li>

        {{ partial "breadcrumb_recursive.html" (dict "sections" .Site.Home.Sections "level" 1 "path" $path "dir" .URL) }}

        {{ if and (eq .Kind "section") (eq (len $path) 2)}}
            <li class="breadcrumb-item">{{ .Title }}</li>
        {{ end }}

        {{ if eq .Kind "page" }}
            <li class="breadcrumb-item">{{ .Title }}</li>
        {{ end }}
    </ol>
</nav>